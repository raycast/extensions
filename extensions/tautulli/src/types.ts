export type ExtensionPreferences = {
  tautulliUrl: string;
  apiKey: string;
};

export type StreamResponse = {
  response: {
    result: string;
    message: string | null;
    data: {
      stream_count: string;
      sessions: {
        session_key: string;
        media_type: string;
        view_offset: string;
        progress_percent: string;
        quality_profile: string;
        synced_version_profile: string;
        optimized_version_profile: string;
        user: string;
        channel_stream: number;
        section_id: string;
        library_name: string;
        rating_key: string;
        parent_rating_key: string;
        grandparent_rating_key: string;
        title: string;
        parent_title: string;
        grandparent_title: string;
        original_title: string;
        sort_title: string;
        edition_title: string;
        slug: string;
        parent_slug: string;
        grandparent_slug: string;
        media_index: string;
        parent_media_index: string;
        studio: string;
        content_rating: string;
        summary: string;
        tagline: string;
        rating: string;
        rating_image: string;
        audience_rating: string;
        audience_rating_image: string;
        user_rating: string;
        duration: string;
        year: string;
        parent_year: string;
        grandparent_year: string;
        thumb: string;
        parent_thumb: string;
        grandparent_thumb: string;
        art: string;
        banner: string;
        originally_available_at: string;
        added_at: string;
        updated_at: string;
        last_viewed_at: string;
        guid: string;
        parent_guid: string;
        grandparent_guid: string;
        directors: string[];
        writers: string[];
        actors: string[];
        genres: string[];
        labels: string[];
        collections: string[];
        guids: string[];
        markers: {
          id: number;
          type: string;
          start_time_offset: number;
          end_time_offset: number;
          first: boolean | null;
          final: boolean | null;
        }[];
        parent_guids: string[];
        grandparent_guids: string[];
        full_title: string;
        children_count: number;
        live: number;
        id: string;
        container: string;
        bitrate: string;
        height: string;
        width: string;
        aspect_ratio: string;
        video_codec: string;
        video_resolution: string;
        video_full_resolution: string;
        video_framerate: string;
        video_profile: string;
        audio_codec: string;
        audio_channels: string;
        audio_channel_layout: string;
        audio_profile: string;
        optimized_version: number;
        channel_call_sign: string;
        channel_id: string;
        channel_identifier: string;
        channel_title: string;
        channel_thumb: string;
        channel_vcn: string;
        protocol: string;
        begins_at: number;
        ends_at: number;
        file: string;
        file_size: string;
        indexes: number;
        selected: number;
        type: string;
        video_codec_level: string;
        video_bitrate: string;
        video_bit_depth: string;
        video_chroma_subsampling: string;
        video_color_primaries: string;
        video_color_range: string;
        video_color_space: string;
        video_color_trc: string;
        video_dynamic_range: string;
        video_dovi_bl_present: number;
        video_dovi_el_present: number;
        video_dovi_level: number;
        video_dovi_present: number;
        video_dovi_profile: number;
        video_dovi_rpu_present: number;
        video_dovi_version: number;
        video_frame_rate: string;
        video_ref_frames: string;
        video_height: string;
        video_width: string;
        video_language: string;
        video_language_code: string;
        video_scan_type: string;
        audio_bitrate: string;
        audio_bitrate_mode: string;
        audio_sample_rate: string;
        audio_language: string;
        audio_language_code: string;
        subtitle_codec: string;
        subtitle_container: string;
        subtitle_format: string;
        subtitle_forced: number;
        subtitle_location: string;
        subtitle_language: string;
        subtitle_language_code: string;
        row_id: number;
        user_id: number;
        username: string;
        friendly_name: string;
        user_thumb: string;
        email: string;
        is_active: number;
        is_admin: number;
        is_home_user: number;
        is_allow_sync: number;
        is_restricted: number;
        do_notify: number;
        keep_history: number;
        deleted_user: number;
        allow_guest: number;
        shared_libraries: string[];
        last_seen: string | null;
        ip_address: string;
        ip_address_public: string;
        device: string;
        platform: string;
        platform_name: string;
        platform_version: string;
        product: string;
        product_version: string;
        profile: string;
        player: string;
        machine_id: string;
        state: "playing" | "paused" | "buffering";
        local: number;
        relayed: number;
        secure: number;
        session_id: string;
        bandwidth: string;
        location: string;
        transcode_key: string;
        transcode_throttled: number;
        transcode_progress: number;
        transcode_speed: string;
        transcode_audio_channels: string;
        transcode_audio_codec: string;
        transcode_video_codec: string;
        transcode_width: string;
        transcode_height: string;
        transcode_container: string;
        transcode_protocol: string;
        transcode_min_offset_available: number;
        transcode_max_offset_available: number;
        transcode_hw_requested: number;
        transcode_hw_decode: string;
        transcode_hw_decode_title: string;
        transcode_hw_encode: string;
        transcode_hw_encode_title: string;
        transcode_hw_full_pipeline: number;
        audio_decision: string;
        video_decision: string;
        subtitle_decision: string;
        throttled: string;
        transcode_hw_decoding: number;
        transcode_hw_encoding: number;
        stream_container: string;
        stream_bitrate: string;
        stream_aspect_ratio: string;
        stream_video_framerate: string;
        stream_video_resolution: string;
        stream_duration: string;
        stream_container_decision: string;
        optimized_version_title: string;
        synced_version: number;
        live_uuid: string;
        bif_thumb: string;
        subtitles: number;
        transcode_decision: string;
        container_decision: string;
        stream_video_full_resolution: string;
        stream_video_bitrate: string;
        stream_video_bit_depth: string;
        stream_video_chroma_subsampling: string;
        stream_video_codec: string;
        stream_video_codec_level: string;
        stream_video_color_primaries: string;
        stream_video_color_range: string;
        stream_video_color_space: string;
        stream_video_color_trc: string;
        stream_video_dynamic_range: string;
        stream_video_dovi_bl_present: number;
        stream_video_dovi_el_present: number;
        stream_video_dovi_level: number;
        stream_video_dovi_present: number;
        stream_video_dovi_profile: number;
        stream_video_dovi_rpu_present: number;
        stream_video_dovi_version: number;
        stream_video_height: string;
        stream_video_width: string;
        stream_video_ref_frames: string;
        stream_video_language: string;
        stream_video_language_code: string;
        stream_video_scan_type: string;
        stream_video_decision: string;
        stream_audio_bitrate: string;
        stream_audio_bitrate_mode: string;
        stream_audio_channels: string;
        stream_audio_channel_layout: string;
        stream_audio_codec: string;
        stream_audio_sample_rate: string;
        stream_audio_channel_layout_: string;
        stream_audio_language: string;
        stream_audio_language_code: string;
        stream_audio_decision: string;
        stream_subtitle_codec: string;
        stream_subtitle_container: string;
        stream_subtitle_format: string;
        stream_subtitle_forced: number;
        stream_subtitle_location: string;
        stream_subtitle_language: string;
        stream_subtitle_language_code: string;
        stream_subtitle_decision: string;
        stream_subtitle_transient: number;
      }[];
      stream_count_direct_play: number;
      stream_count_direct_stream: number;
      stream_count_transcode: number;
      total_bandwidth: number;
      lan_bandwidth: number;
      wan_bandwidth: number;
    };
  };
};

export type Stream = StreamResponse["response"]["data"]["sessions"][number];

export type ServerInfoResponse = {
  response: {
    result: "success" | "error";
    message: string | null;
    data: {
      pms_name: string;
      pms_version: string;
      pms_platform: string;
      pms_ip: string;
      pms_port: number;
      pms_ssl: boolean;
      pms_url: string;
      pms_url_manual: boolean;
      pms_identifier: string;
      pms_plexpass: boolean;
    };
  };
};
