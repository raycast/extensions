# Mermaid to Image Changelog

## [Add selected text support] - 2025-08-05
### Added
- **Selected text support**: Extension now prioritizes selected text over clipboard content when generating diagrams
- Users can now select Mermaid code in any application and run the extension to generate diagrams
- Added fallback mechanism: Selected text â†’ Clipboard content
- New "Generate from Clipboard Only" action (Cmd+Shift+V) for cases where text selection doesn't work properly
- Enhanced debugging logs to track input source and content validation

### Improved
- Better error messages indicating both input sources (selected text and clipboard)
- Added troubleshooting tips for applications that may not support text selection
- Toast notifications now show which source (selected/clipboard) is being used
- More robust input validation to handle edge cases with special characters and multi-line content

### Fixed
- Improved handling of complex Mermaid syntax (like sequence diagrams with special characters)
- Better empty input detection and user feedback

## [Add support for AI extension] - 2024-05-09
### Added
- Added a tool (`generateMermaidImageTool`) allowing users to ask Raycast AI to generate Mermaid diagrams (e.g., flowcharts, sequence diagrams) from natural language descriptions and automatically copy the resulting image to the clipboard.
- The new AI tool receives Mermaid syntax (often generated by the AI based on user prompts), utilizes the existing diagram generation engine (`@mermaid-js/mermaid-cli`), generates the image according to user preferences (PNG/SVG, theme), and copies the final image to the clipboard.
- Included detailed instructions and examples in `package.json` to guide Raycast AI on accurately interpreting user requests, generating Mermaid syntax, and correctly utilizing the new tool for image generation and copying.
- Registered the AI tool as a `no-view` command, enabling it to be invoked directly by Raycast AI in the background.
- **Added AI Evals:** Implemented evaluation test cases (`evals` in `package.json`) to verify AI interaction with the tool and provide users with example prompts for generating diagrams via AI.

## [Initial Version] - 2025-03-14
### Added
- Initial release of mermaid-to-image extension
- Automatic conversion of clipboard Mermaid code to images
- Support for PNG and SVG output formats
- Multiple theme options (Default, Forest, Dark, Neutral)
- Copy image directly to clipboard functionality
- Save image to custom directory
- Open image in default application
- Automatic cleanup of temporary files
- Detailed error handling and user feedback
- Memory optimization for complex diagrams

### Technical
- Integration with mermaid-cli for high-quality diagram rendering
- Automatic Node.js path detection
- Environment variable configuration for improved stability
- High-resolution image output with 2x scaling
