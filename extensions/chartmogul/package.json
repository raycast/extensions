{
  "$schema": "https://www.raycast.com/schemas/extension.json",
  "name": "chartmogul",
  "title": "ChartMogul",
  "description": "A Raycast extension that gives you quick access to key business metrics from ChartMogul right from your command bar. Instantly view MRR, ARR, churn, customer counts, and more without leaving your workflow.",
  "icon": "extension_icon.png",
  "author": "mattdelliott",
  "license": "MIT",
  "categories": [
    "Productivity",
    "Finance"
  ],
  "commands": [
    {
      "name": "metrics",
      "title": "View Subscription Metrics",
      "subtitle": "ChartMogul",
      "description": "See revenue, customer, and churn data all in one place. This gives you a high-level view of your SaaS performance in seconds.",
      "mode": "view",
      "keywords": [
        "cm",
        "key metrics",
        "metrics",
        "revenue",
        "customer",
        "churn"
      ]
    },
    {
      "name": "mrr-movements",
      "title": "View Recent MRR Movements",
      "subtitle": "ChartMogul",
      "description": "Browse the latest customer actions like new signups, upgrades, and cancellations. Keep a finger on the pulse of your business in real time.",
      "mode": "view",
      "keywords": [
        "cm",
        "movements",
        "activities"
      ]
    }
  ],
  "ai": {
    "instructions": "All currency numbers are in cents. Don't display the calculation, just display the number.",
    "evals": [
      {
        "input": "@chartmogul What is my current MRR?",
        "mocks": {
          "metrics": {
            "entries": [
              {
                "arpa": 18754,
                "arpa-percentage-change": 1.23,
                "arr": 29500123,
                "arr-percentage-change": 2.15,
                "asp": 1102,
                "asp-percentage-change": -0.5,
                "customer-churn-rate": 3.2,
                "customer-churn-rate-percentage-change": 1.1,
                "customers": 142,
                "customers-percentage-change": 2.5,
                "date": "2025-02-01",
                "ltv": 712345,
                "ltv-percentage-change": 4.7,
                "mrr": 2456789,
                "mrr-churn-rate": 1.8,
                "mrr-churn-rate-percentage-change": 0.9,
                "mrr-percentage-change": 1.2
              },
              {
                "arpa": 19201,
                "arpa-percentage-change": 2.45,
                "arr": 29876543,
                "arr-percentage-change": 1.98,
                "asp": 1150,
                "asp-percentage-change": 0.7,
                "customer-churn-rate": 2.9,
                "customer-churn-rate-percentage-change": -0.8,
                "customers": 145,
                "customers-percentage-change": 2.1,
                "date": "2025-02-02",
                "ltv": 725000,
                "ltv-percentage-change": 1.8,
                "mrr": 2498765,
                "mrr-churn-rate": 1.5,
                "mrr-churn-rate-percentage-change": -0.3,
                "mrr-percentage-change": 1.7
              }
            ],
            "summary": {
              "arpa-percentage-change": 1.85,
              "arr-percentage-change": 2.06,
              "asp-percentage-change": 0.1,
              "current-arpa": 19201,
              "current-arr": 29876543,
              "current-asp": 1150,
              "current-customer-churn-rate": 2.9,
              "current-customers": 145,
              "current-ltv": 725000,
              "current-mrr": 2498765,
              "current-mrr-churn-rate": 1.5,
              "customer-churn-rate-percentage-change": -0.8,
              "customers-percentage-change": 2.1,
              "ltv-percentage-change": 1.8,
              "mrr-churn-rate-percentage-change": -0.3,
              "mrr-percentage-change": 1.7,
              "previous-arpa": 18754,
              "previous-arr": 29500123,
              "previous-asp": 1102,
              "previous-customer-churn-rate": 3.2,
              "previous-customers": 142,
              "previous-ltv": 712345,
              "previous-mrr": 2456789,
              "previous-mrr-churn-rate": 1.8
            }
          }
        },
        "expected": [
          {
            "callsTool": {
              "arguments": {
                "end-date": "2025-02-10",
                "start-date": "2025-02-01"
              },
              "name": "metrics"
            }
          }
        ]
      },
      {
        "input": "@chartmogul What was the churn rate for the last 30 days?",
        "mocks": {
          "metrics": {
            "entries": [
              {
                "arpa": 12345,
                "arpa-percentage-change": 2.5,
                "arr": 9876543,
                "arr-percentage-change": 1.2,
                "asp": 789,
                "asp-percentage-change": 3.1,
                "customer-churn-rate": 2.34,
                "customer-churn-rate-percentage-change": 0.5,
                "customers": 101,
                "customers-percentage-change": 1,
                "date": "2025-01-11",
                "ltv": 543210,
                "ltv-percentage-change": 2.2,
                "mrr": 456789,
                "mrr-churn-rate": 1.12,
                "mrr-churn-rate-percentage-change": 0.8,
                "mrr-percentage-change": 1.1
              },
              {
                "arpa": 12567,
                "arpa-percentage-change": 1.8,
                "arr": 9900000,
                "arr-percentage-change": 0.9,
                "asp": 800,
                "asp-percentage-change": 1.4,
                "customer-churn-rate": 1.98,
                "customer-churn-rate-percentage-change": -15.4,
                "customers": 103,
                "customers-percentage-change": 1.98,
                "date": "2025-02-10",
                "ltv": 550000,
                "ltv-percentage-change": 1.25,
                "mrr": 460000,
                "mrr-churn-rate": 0.95,
                "mrr-churn-rate-percentage-change": -15.2,
                "mrr-percentage-change": 0.7
              }
            ],
            "summary": {
              "arpa-percentage-change": 1.9,
              "arr-percentage-change": 1.05,
              "asp-percentage-change": 2.25,
              "current-arpa": 12567,
              "current-arr": 9900000,
              "current-asp": 800,
              "current-customer-churn-rate": 1.98,
              "current-customers": 103,
              "current-ltv": 550000,
              "current-mrr": 460000,
              "current-mrr-churn-rate": 0.95,
              "customer-churn-rate-percentage-change": -15.4,
              "customers-percentage-change": 1.98,
              "ltv-percentage-change": 1.25,
              "mrr-churn-rate-percentage-change": -15.2,
              "mrr-percentage-change": 0.7,
              "previous-arpa": 12345,
              "previous-arr": 9876543,
              "previous-asp": 789,
              "previous-customer-churn-rate": 2.34,
              "previous-customers": 101,
              "previous-ltv": 543210,
              "previous-mrr": 456789,
              "previous-mrr-churn-rate": 1.12
            }
          }
        },
        "expected": [
          {
            "callsTool": {
              "arguments": {
                "start-date": "2025-01-11",
                "end-date": "2025-02-10"
              },
              "name": "metrics"
            }
          }
        ]
      },
      {
        "input": "What is the MRR for someone@example.com?",
        "mocks": {
          "chartmogul-search-customers-by-email": {
            "current_page": 1,
            "cursor": "JjE5ODEyODY5MQ==",
            "entries": [
              {
                "address": {
                  "address_zip": null,
                  "city": null,
                  "country": "United States",
                  "state": null
                },
                "arr": 60000,
                "attributes": {
                  "stripe": {},
                  "tags": []
                },
                "billing-system-type": "Example",
                "billing-system-url": "https://example.com",
                "chartmogul-url": "https://app.chartmogul.com/#/customers/1234567890",
                "city": null,
                "company": "Example LLC",
                "country": "US",
                "currency": "USD",
                "currency-sign": "$",
                "customer-since": null,
                "data_source_uuid": "ds_306c528e-7095-11eb-a04d-bbd5fdec3818",
                "data_source_uuids": [
                  "ds_306c528e-7095-11eb-a04d-bbd5fdec3818"
                ],
                "email": "someone@example.com",
                "external_id": "cus_xxxxxx",
                "external_ids": [
                  "cus_xxxxxx"
                ],
                "free_trial_started_at": null,
                "id": 113383578,
                "lead_created_at": null,
                "mrr": 5000,
                "name": "Example",
                "owner": null,
                "state": null,
                "status": "New Lead",
                "uuid": "cus_0e4f5284-3bf7-11ec-8554-af4f4c6ed30a",
                "website_url": "https://example.com",
                "zip": null
              }
            ],
            "has_more": false,
            "page": 1,
            "per_page": 200,
            "total_pages": null
          }
        },
        "expected": [
          {
            "callsTool": {
              "arguments": {
                "email": "someone@example.com"
              },
              "name": "search-customers-by-email"
            }
          }
        ]
      },
      {
        "input": "What are the latest MRR movements?",
        "mocks": {
          "chartmogul-list-movements": {
            "cursor": "xxxxxx",
            "entries": [
              {
                "activity-arr": 10956,
                "activity-mrr": 913,
                "activity-mrr-movement": 913,
                "billing-connector-uuid": "ds_xxxxx",
                "currency": "USD",
                "customer-external-id": "cus_1234567890",
                "customer-name": "ABC Company",
                "customer-uuid": "cus_xxxxx",
                "date": "2025-02-01T12:25:48+00:00",
                "description": "subscribed to the Acme plan",
                "plan-external-id": "price_1234567890",
                "subscription-external-id": "si_1234567890",
                "type": "new_biz",
                "uuid": "xxxxx"
              },
              {
                "activity-arr": 22800,
                "activity-mrr": 1900,
                "activity-mrr-movement": 1900,
                "billing-connector-uuid": "ds_xxxxx",
                "currency": "USD",
                "customer-external-id": "cus_1234567890",
                "customer-name": "XYZ LLC",
                "customer-uuid": "cus_xxxxx",
                "date": "2025-01-27T14:51:21+00:00",
                "description": "subscribed to the Acme plan",
                "plan-external-id": "price_1234567890",
                "subscription-external-id": "si_1234567890",
                "type": "new_biz",
                "uuid": "xxxxx"
              },
              {
                "activity-arr": 0,
                "activity-mrr": 0,
                "activity-mrr-movement": -10000,
                "billing-connector-uuid": "ds_xxxxx",
                "currency": "USD",
                "customer-external-id": "cus_1234567890",
                "customer-name": "ABC Company",
                "customer-uuid": "cus_xxxxx",
                "date": "2025-01-21T18:31:11+00:00",
                "description": "cancelled their Acme plan",
                "plan-external-id": "price_1234567890",
                "subscription-external-id": "si_1234567890",
                "type": "churn",
                "uuid": "xxxxx"
              }
            ],
            "has_more": true,
            "per_page": 200
          }
        },
        "expected": [
          {
            "callsTool": {
              "arguments": {},
              "name": "list-movements"
            }
          }
        ]
      }
    ]
  },
  "tools": [
    {
      "name": "search-customers-by-email",
      "title": "Search Customers by Email",
      "description": "Locate customers by email."
    },
    {
      "name": "list-customers",
      "title": "List Customers",
      "description": "List customers by data source uuid, status, or external ID."
    },
    {
      "name": "list-movements",
      "title": "List Movements",
      "description": "List movements by movement type, start date, and end date."
    },
    {
      "name": "list-data-sources",
      "title": "List Data Sources",
      "description": "List data sources for the configured account."
    },
    {
      "name": "list-customer-activities",
      "title": "List Customer Activities",
      "description": "List activities for a customer by uuid."
    },
    {
      "name": "retrieve-account-details",
      "title": "Retrieve Account Details",
      "description": "Retrieve account details for the configured account."
    },
    {
      "name": "metrics",
      "title": "Metrics",
      "description": "Retrieve subscription metrics, such as MRR, ARR, customer churn rate, LTV, ARPA, ASP, and more for a given date range."
    },
    {
      "name": "list-opportunities",
      "title": "List Opportunities",
      "description": "List opportunities by customer uuid, owner, pipeline, stage, or close date."
    },
    {
      "name": "list-call-logs",
      "title": "List Notes & Call Logs",
      "description": "List notes and call logs by customer uuid, type, or author email."
    },
    {
      "name": "list-contacts",
      "title": "List Contacts",
      "description": "List contacts by email or customer external ID."
    },
    {
      "name": "list-customer-subscriptions",
      "title": "List Customer Subscriptions",
      "description": "List subscriptions for a customer."
    },
    {
      "name": "list-plans",
      "title": "List Plans",
      "description": "List plans by data source or external ID."
    },
    {
      "name": "list-tasks",
      "title": "List Tasks",
      "description": "List tasks by customer uuid, assignee, due date, close date, or completed."
    }
  ],
  "preferences": [
    {
      "type": "password",
      "name": "apiKey",
      "title": "API Key",
      "description": "The API key for your ChartMogul account. You can find it in the ChartMogul dashboard under Profile -> API Keys. It's highly recommended to use a dedicated READONLY API Key for this extension.",
      "required": true
    }
  ],
  "dependencies": {
    "@raycast/api": "^1.102.6",
    "@raycast/utils": "^1.17.0",
    "date-fns": "^4.1.0"
  },
  "devDependencies": {
    "@raycast/eslint-config": "^2.0.4",
    "@types/node": "22.13.10",
    "@types/react": "19.0.10",
    "eslint": "^9.22.0",
    "prettier": "^3.5.3",
    "typescript": "^5.8.2"
  },
  "scripts": {
    "build": "ray build",
    "dev": "ray develop",
    "fix-lint": "ray lint --fix",
    "lint": "ray lint",
    "prepublishOnly": "echo \"\\n\\nIt seems like you are trying to publish the Raycast extension to npm.\\n\\nIf you did intend to publish it to npm, remove the \\`prepublishOnly\\` script and rerun \\`npm publish\\` again.\\nIf you wanted to publish it to the Raycast Store instead, use \\`npm run publish\\` instead.\\n\\n\" && exit 1",
    "publish": "npx @raycast/api@latest publish"
  }
}
