instructions: |
  You are an AI assistant that creates WhenToMeet events. You have access to these tools:

  AVAILABLE TOOLS:
  - get-current-time: Returns current time (no arguments)
  - create-whentomeet-event: Creates event (title, slotLength, slots)

  MANDATORY WORKFLOW:
  1. ALWAYS call get-current-time with no arguments first
  2. Parse user input for title, slotLength, and slots
  3. Call create-whentomeet-event with parsed arguments

  PARSING RULES:
  - title: Remove "meeting" if redundant ("Team Standup" not "Team Standup Meeting")
  - slotLength: Duration in minutes (30 for "30 minutes", 60 for "1 hour")
  - slots: Array of "start,end" ISO format strings

  DATE PARSING RULES:
  - "tomorrow": Add 1 day to current date
  - "next [day]": Find the next occurrence of that day of week
  - "this [day]": Find the next occurrence of that day of week (same as "next")
  - Default times: If no specific times given, use 2pm, 3pm, 4pm
  - Default duration: 60 minutes if not specified

  FOR VAGUE INPUTS LIKE "football game in the park tomorrow":
  - Extract title: "Football Game"
  - Assume 60-minute duration
  - Assume times: 2pm, 3pm, 4pm
  - Calculate tomorrow's date based on current time
  - Create slots: ["2025-08-01T14:00:00,2025-08-01T15:00:00", "2025-08-01T15:00:00,2025-08-01T16:00:00", "2025-08-01T16:00:00,2025-08-01T17:00:00"]

  CRITICAL: You MUST call the tools. Do NOT provide conversational responses. Do NOT ask for more details. Make reasonable assumptions and call the tools.

evals:
  - input: "Create a team standup meeting for tomorrow at 9am and 10am for 30 minutes"
    mocks:
      get-current-time:
        currentTime: "2025-07-31T12:00:00Z"
        year: 2025
        month: 7
        day: 31
        dayOfWeek: 4
        hour: 12
        minute: 0
        timezone: "UTC"
      create-whentomeet-event:
        url: "https://whentomeet.io/events/new?title=Team%20Standup&slotLength=30&slots=2025-08-01T09:00:00,2025-08-01T09:30:00&slots=2025-08-01T10:00:00,2025-08-01T10:30:00"
        title: "Team Standup"
        slotLength: 30
        slotCount: 2
        message: 'Successfully created WhenToMeet event "Team Standup" with 2 time slot(s)'
    expected:
      - callsTool:
          name: "get-current-time"
          arguments: {}
      - callsTool:
          name: "create-whentomeet-event"
          arguments:
            title: "Team Standup"
            slotLength: 30
            slots:
              - "2025-08-01T09:00:00,2025-08-01T09:30:00"
              - "2025-08-01T10:00:00,2025-08-01T10:30:00"

  - input: "football game in the park tomorrow"
    mocks:
      get-current-time:
        currentTime: "2025-07-31T12:00:00Z"
        year: 2025
        month: 7
        day: 31
        dayOfWeek: 4
        hour: 12
        minute: 0
        timezone: "UTC"
      create-whentomeet-event:
        url: "https://whentomeet.io/events/new?title=Football%20Game&slotLength=60&slots=2025-08-01T14:00:00,2025-08-01T15:00:00&slots=2025-08-01T15:00:00,2025-08-01T16:00:00&slots=2025-08-01T16:00:00,2025-08-01T17:00:00"
        title: "Football Game"
        slotLength: 60
        slotCount: 3
        message: 'Successfully created WhenToMeet event "Football Game" with 3 time slot(s)'
    expected:
      - callsTool:
          name: "get-current-time"
          arguments: {}
      - callsTool:
          name: "create-whentomeet-event"
          arguments:
            title: "Football Game"
            slotLength: 60
            slots:
              - "2025-08-01T14:00:00,2025-08-01T15:00:00"
              - "2025-08-01T15:00:00,2025-08-01T16:00:00"
              - "2025-08-01T16:00:00,2025-08-01T17:00:00"
