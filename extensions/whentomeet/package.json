{
  "$schema": "https://www.raycast.com/schemas/extension.json",
  "name": "whentomeet",
  "title": "WhenToMeet",
  "description": "Create WhenToMeet scheduling events using natural language. Describe your event and get a pre-filled WhenToMeet URL instantly.",
  "icon": "extension_icon.png",
  "author": "felix_wortmann",
  "categories": [
    "Productivity"
  ],
  "license": "MIT",
  "version": "2.0.0",
  "keywords": [
    "whentomeet",
    "scheduling",
    "calendar",
    "meeting",
    "event",
    "productivity"
  ],
  "commands": [
    {
      "name": "create-event",
      "title": "Create Whentomeet Event",
      "description": "Create a WhenToMeet event from the Raycast UI.",
      "mode": "view",
      "keywords": [
        "create",
        "event",
        "meeting",
        "schedule",
        "calendar",
        "whentomeet"
      ]
    }
  ],
  "tools": [
    {
      "name": "get-current-time",
      "title": "Get Current Time",
      "description": "Returns the current time and date information for parsing relative time expressions"
    },
    {
      "name": "create-whentomeet-event",
      "title": "Create Whentomeet Event",
      "description": "Creates a new WhenToMeet event with the specified title, description, time slots, and duration"
    }
  ],
  "ai": {
    "instructions": "You are an AI assistant that creates WhenToMeet events. You have access to these tools:\n\nAVAILABLE TOOLS:\n- get-current-time: Returns current time (no arguments)\n- create-whentomeet-event: Creates event (title, slotLength, slots)\n\nMANDATORY WORKFLOW:\n1. ALWAYS call get-current-time with no arguments first\n2. Parse user input for title, slotLength, and slots\n3. Call create-whentomeet-event with parsed arguments\n\nPARSING RULES:\n- title: Remove \"meeting\" if redundant (\"Team Standup\" not \"Team Standup Meeting\")\n- slotLength: Duration in minutes (30 for \"30 minutes\", 60 for \"1 hour\")\n- slots: Array of \"start,end\" ISO format strings\n\nDATE PARSING RULES:\n- \"tomorrow\": Add 1 day to current date\n- \"next [day]\": Find the next occurrence of that day of week\n- \"this [day]\": Find the next occurrence of that day of week (same as \"next\")\n- Default times: If no specific times given, use 2pm, 3pm, 4pm\n- Default duration: 60 minutes if not specified\n\nFOR VAGUE INPUTS LIKE \"football game in the park tomorrow\":\n- Extract title: \"Football Game\"\n- Assume 60-minute duration\n- Assume times: 2pm, 3pm, 4pm\n- Calculate tomorrow's date based on current time\n- Create slots: [\"2025-08-01T14:00:00,2025-08-01T15:00:00\", \"2025-08-01T15:00:00,2025-08-01T16:00:00\", \"2025-08-01T16:00:00,2025-08-01T17:00:00\"]\n\nCRITICAL: You MUST call the tools. Do NOT provide conversational responses. Do NOT ask for more details. Make reasonable assumptions and call the tools.",
    "evals": [
      {
        "input": "@whentomeet Create a team standup meeting for tomorrow at 9am and 10am for 30 minutes",
        "mocks": {
          "get-current-time": [
            {
              "currentTime": "2025-07-31T12:00:00Z",
              "year": 2025,
              "month": 7,
              "day": 31,
              "dayOfWeek": 4,
              "hour": 12,
              "minute": 0,
              "timezone": "UTC"
            }
          ],
          "create-whentomeet-event": [
            {
              "url": "https://whentomeet.io/events/new?title=Team%20Standup&slotLength=30&slots=2025-08-01T09:00:00,2025-08-01T09:30:00&slots=2025-08-01T10:00:00,2025-08-01T10:30:00",
              "title": "Team Standup",
              "slotLength": 30,
              "slotCount": 2,
              "message": "Successfully created WhenToMeet event \"Team Standup\" with 2 time slot(s)"
            }
          ]
        },
        "expected": [
          {
            "callsTool": {
              "name": "whentomeet-get-current-time",
              "arguments": {}
            }
          },
          {
            "callsTool": {
              "name": "whentomeet-create-whentomeet-event",
              "arguments": {
                "title": "Team Standup",
                "slotLength": 30,
                "slots": [
                  "2025-08-01T09:00:00,2025-08-01T09:30:00",
                  "2025-08-01T10:00:00,2025-08-01T10:30:00"
                ]
              }
            }
          }
        ]
      },
      {
        "input": "@whentomeet football game in the park tomorrow",
        "mocks": {
          "get-current-time": [
            {
              "currentTime": "2025-07-31T12:00:00Z",
              "year": 2025,
              "month": 7,
              "day": 31,
              "dayOfWeek": 4,
              "hour": 12,
              "minute": 0,
              "timezone": "UTC"
            }
          ],
          "create-whentomeet-event": [
            {
              "url": "https://whentomeet.io/events/new?title=Football%20Game&slotLength=60&slots=2025-08-01T14:00:00,2025-08-01T15:00:00&slots=2025-08-01T15:00:00,2025-08-01T16:00:00&slots=2025-08-01T16:00:00,2025-08-01T17:00:00",
              "title": "Football Game",
              "slotLength": 60,
              "slotCount": 3,
              "message": "Successfully created WhenToMeet event \"Football Game\" with 3 time slot(s)"
            }
          ]
        },
        "expected": [
          {
            "callsTool": {
              "name": "whentomeet-get-current-time",
              "arguments": {}
            }
          },
          {
            "callsTool": {
              "name": "whentomeet-create-whentomeet-event",
              "arguments": {
                "title": "Football Game",
                "slotLength": 60,
                "slots": [
                  "2025-08-01T14:00:00,2025-08-01T15:00:00",
                  "2025-08-01T15:00:00,2025-08-01T16:00:00",
                  "2025-08-01T16:00:00,2025-08-01T17:00:00"
                ]
              }
            }
          }
        ]
      }
    ]
  },
  "preferences": [],
  "dependencies": {
    "@raycast/api": "^1.101.1",
    "@raycast/utils": "^1.17.0"
  },
  "devDependencies": {
    "@raycast/eslint-config": "^2.0.4",
    "@types/node": "22.13.10",
    "@types/react": "19.0.10",
    "eslint": "^9.22.0",
    "prettier": "^3.5.3",
    "typescript": "^5.8.2"
  },
  "scripts": {
    "build": "ray build",
    "dev": "ray develop",
    "fix-lint": "ray lint --fix",
    "lint": "ray lint",
    "prepublishOnly": "echo \"\\n\\nIt seems like you are trying to publish the Raycast extension to npm.\\n\\nIf you did intend to publish it to npm, remove the \\`prepublishOnly\\` script and rerun \\`npm publish\\` again.\\nIf you wanted to publish it to the Raycast Store instead, use \\`npm run publish\\` instead.\\n\\n\" && exit 1",
    "publish": "npx @raycast/api@latest publish",
    "evals": "npx ray evals"
  }
}