import { Form, ActionPanel, Action, showToast, Clipboard } from "@raycast/api";
import { useState, useEffect } from "react";

type Values = {
  text: string;
  style: string;
};

const maps = {
  boldSerif: {
    A: "ð€",
    B: "ð",
    C: "ð‚",
    D: "ðƒ",
    E: "ð„",
    F: "ð…",
    G: "ð†",
    H: "ð‡",
    I: "ðˆ",
    J: "ð‰",
    K: "ðŠ",
    L: "ð‹",
    M: "ðŒ",
    N: "ð",
    O: "ðŽ",
    P: "ð",
    Q: "ð",
    R: "ð‘",
    S: "ð’",
    T: "ð“",
    U: "ð”",
    V: "ð•",
    W: "ð–",
    X: "ð—",
    Y: "ð˜",
    Z: "ð™",
    a: "ðš",
    b: "ð›",
    c: "ðœ",
    d: "ð",
    e: "ðž",
    f: "ðŸ",
    g: "ð ",
    h: "ð¡",
    i: "ð¢",
    j: "ð£",
    k: "ð¤",
    l: "ð¥",
    m: "ð¦",
    n: "ð§",
    o: "ð¨",
    p: "ð©",
    q: "ðª",
    r: "ð«",
    s: "ð¬",
    t: "ð­",
    u: "ð®",
    v: "ð¯",
    w: "ð°",
    x: "ð±",
    y: "ð²",
    z: "ð³",
  },
  italicSerif: {
    A: "ð‘¨",
    B: "ð‘©",
    C: "ð‘ª",
    D: "ð‘«",
    E: "ð‘¬",
    F: "ð‘­",
    G: "ð‘®",
    H: "ð‘¯",
    I: "ð‘°",
    J: "ð‘±",
    K: "ð‘²",
    L: "ð‘³",
    M: "ð‘´",
    N: "ð‘µ",
    O: "ð‘¶",
    P: "ð‘·",
    Q: "ð‘¸",
    R: "ð‘¹",
    S: "ð‘º",
    T: "ð‘»",
    U: "ð‘¼",
    V: "ð‘½",
    W: "ð‘¾",
    X: "ð‘¿",
    Y: "ð’€",
    Z: "ð’",
    a: "ð’‚",
    b: "ð’ƒ",
    c: "ð’„",
    d: "ð’…",
    e: "ð’†",
    f: "ð’‡",
    g: "ð’ˆ",
    h: "ð’‰",
    i: "ð’Š",
    j: "ð’‹",
    k: "ð’Œ",
    l: "ð’",
    m: "ð’Ž",
    n: "ð’",
    o: "ð’",
    p: "ð’‘",
    q: "ð’’",
    r: "ð’“",
    s: "ð’”",
    t: "ð’•",
    u: "ð’–",
    v: "ð’—",
    w: "ð’˜",
    x: "ð’™",
    y: "ð’š",
    z: "ð’›",
  },
  boldSansSerif: {
    A: "ð—”",
    B: "ð—•",
    C: "ð—–",
    D: "ð——",
    E: "ð—˜",
    F: "ð—™",
    G: "ð—š",
    H: "ð—›",
    I: "ð—œ",
    J: "ð—",
    K: "ð—ž",
    L: "ð—Ÿ",
    M: "ð— ",
    N: "ð—¡",
    O: "ð—¢",
    P: "ð—£",
    Q: "ð—¤",
    R: "ð—¥",
    S: "ð—¦",
    T: "ð—§",
    U: "ð—¨",
    V: "ð—©",
    W: "ð—ª",
    X: "ð—«",
    Y: "ð—¬",
    Z: "ð—­",
    a: "ð—®",
    b: "ð—¯",
    c: "ð—°",
    d: "ð—±",
    e: "ð—²",
    f: "ð—³",
    g: "ð—´",
    h: "ð—µ",
    i: "ð—¶",
    j: "ð—·",
    k: "ð—¸",
    l: "ð—¹",
    m: "ð—º",
    n: "ð—»",
    o: "ð—¼",
    p: "ð—½",
    q: "ð—¾",
    r: "ð—¿",
    s: "ð˜€",
    t: "ð˜",
    u: "ð˜‚",
    v: "ð˜ƒ",
    w: "ð˜„",
    x: "ð˜…",
    y: "ð˜†",
    z: "ð˜‡",
  },
  italicSansSerif: {
    A: "ð˜¼",
    B: "ð˜½",
    C: "ð˜¾",
    D: "ð˜¿",
    E: "ð™€",
    F: "ð™",
    G: "ð™‚",
    H: "ð™ƒ",
    I: "ð™„",
    J: "ð™…",
    K: "ð™†",
    L: "ð™‡",
    M: "ð™ˆ",
    N: "ð™‰",
    O: "ð™Š",
    P: "ð™‹",
    Q: "ð™Œ",
    R: "ð™",
    S: "ð™Ž",
    T: "ð™",
    U: "ð™",
    V: "ð™‘",
    W: "ð™’",
    X: "ð™“",
    Y: "ð™”",
    Z: "ð™•",
    a: "ð™–",
    b: "ð™—",
    c: "ð™˜",
    d: "ð™™",
    e: "ð™š",
    f: "ð™›",
    g: "ð™œ",
    h: "ð™",
    i: "ð™ž",
    j: "ð™Ÿ",
    k: "ð™ ",
    l: "ð™¡",
    m: "ð™¢",
    n: "ð™£",
    o: "ð™¤",
    p: "ð™¥",
    q: "ð™¦",
    r: "ð™§",
    s: "ð™¨",
    t: "ð™©",
    u: "ð™ª",
    v: "ð™«",
    w: "ð™¬",
    x: "ð™­",
    y: "ð™®",
    z: "ð™¯",
  },
  strikethrough: {
    A: "AÌ¶",
    B: "BÌ¶",
    C: "CÌ¶",
    D: "DÌ¶",
    E: "EÌ¶",
    F: "FÌ¶",
    G: "GÌ¶",
    H: "HÌ¶",
    I: "IÌ¶",
    J: "JÌ¶",
    K: "KÌ¶",
    L: "LÌ¶",
    M: "MÌ¶",
    N: "NÌ¶",
    O: "OÌ¶",
    P: "PÌ¶",
    Q: "QÌ¶",
    R: "RÌ¶",
    S: "SÌ¶",
    T: "TÌ¶",
    U: "UÌ¶",
    V: "VÌ¶",
    W: "WÌ¶",
    X: "XÌ¶",
    Y: "YÌ¶",
    Z: "ZÌ¶",
    a: "aÌ¶",
    b: "bÌ¶",
    c: "cÌ¶",
    d: "dÌ¶",
    e: "eÌ¶",
    f: "fÌ¶",
    g: "gÌ¶",
    h: "hÌ¶",
    i: "iÌ¶",
    j: "jÌ¶",
    k: "kÌ¶",
    l: "lÌ¶",
    m: "mÌ¶",
    n: "nÌ¶",
    o: "oÌ¶",
    p: "pÌ¶",
    q: "qÌ¶",
    r: "rÌ¶",
    s: "sÌ¶",
    t: "tÌ¶",
    u: "uÌ¶",
    v: "vÌ¶",
    w: "wÌ¶",
    x: "xÌ¶",
    y: "yÌ¶",
    z: "zÌ¶",
  },
  monospace: {
    A: "ð™°",
    B: "ð™±",
    C: "ð™²",
    D: "ð™³",
    E: "ð™´",
    F: "ð™µ",
    G: "ð™¶",
    H: "ð™·",
    I: "ð™¸",
    J: "ð™¹",
    K: "ð™º",
    L: "ð™»",
    M: "ð™¼",
    N: "ð™½",
    O: "ð™¾",
    P: "ð™¿",
    Q: "ðš€",
    R: "ðš",
    S: "ðš‚",
    T: "ðšƒ",
    U: "ðš„",
    V: "ðš…",
    W: "ðš†",
    X: "ðš‡",
    Y: "ðšˆ",
    Z: "ðš‰",
    a: "ðšŠ",
    b: "ðš‹",
    c: "ðšŒ",
    d: "ðš",
    e: "ðšŽ",
    f: "ðš",
    g: "ðš",
    h: "ðš‘",
    i: "ðš’",
    j: "ðš“",
    k: "ðš”",
    l: "ðš•",
    m: "ðš–",
    n: "ðš—",
    o: "ðš˜",
    p: "ðš™",
    q: "ðšš",
    r: "ðš›",
    s: "ðšœ",
    t: "ðš",
    u: "ðšž",
    v: "ðšŸ",
    w: "ðš ",
    x: "ðš¡",
    y: "ðš¢",
    z: "ðš£",
  },
  //   underline: {
  //   'A': 'AÌ²', 'B': 'BÌ²', 'C': 'CÌ²', 'D': 'DÌ²', 'E': 'EÌ²', 'F': 'FÌ²', 'G': 'GÌ²',
  //   'H': 'HÌ²', 'I': 'IÌ²', 'J': 'JÌ²', 'K': 'KÌ²', 'L': 'LÌ²', 'M': 'MÌ²', 'N': 'NÌ²',
  //   'O': 'OÌ²', 'P': 'PÌ²', 'Q': 'QÌ²', 'R': 'RÌ²', 'S': 'SÌ²', 'T': 'TÌ²', 'U': 'UÌ²',
  //   'V': 'VÌ²', 'W': 'WÌ²', 'X': 'XÌ²', 'Y': 'YÌ²', 'Z': 'ZÌ²',
  //   'a': 'aÌ²', 'b': 'bÌ²', 'c': 'cÌ²', 'd': 'dÌ²', 'e': 'eÌ²', 'f': 'fÌ²', 'g': 'gÌ²',
  //   'h': 'hÌ²', 'i': 'iÌ²', 'j': 'jÌ²', 'k': 'kÌ²', 'l': 'lÌ²', 'm': 'mÌ²', 'n': 'nÌ²',
  //   'o': 'oÌ²', 'p': 'pÌ²', 'q': 'qÌ²', 'r': 'rÌ²', 's': 'sÌ²', 't': 'tÌ²', 'u': 'uÌ²',
  //   'v': 'vÌ²', 'w': 'wÌ²', 'x': 'xÌ²', 'y': 'yÌ²', 'z': 'zÌ²'
  // },
  // doubleUnderline: {
  //   'A': 'AÌ³', 'B': 'BÌ³', 'C': 'CÌ³', 'D': 'DÌ³', 'E': 'EÌ³', 'F': 'FÌ³', 'G': 'GÌ³',
  //   'H': 'HÌ³', 'I': 'IÌ³', 'J': 'JÌ³', 'K': 'KÌ³', 'L': 'LÌ³', 'M': 'MÌ³', 'N': 'NÌ³',
  //   'O': 'OÌ³', 'P': 'PÌ³', 'Q': 'QÌ³', 'R': 'RÌ³', 'S': 'SÌ³', 'T': 'TÌ³', 'U': 'UÌ³',
  //   'V': 'VÌ³', 'W': 'WÌ³', 'X': 'XÌ³', 'Y': 'YÌ³', 'Z': 'ZÌ³',
  //   'a': 'aÌ³', 'b': 'bÌ³', 'c': 'cÌ³', 'd': 'dÌ³', 'e': 'eÌ³', 'f': 'fÌ³', 'g': 'gÌ³',
  //   'h': 'hÌ³', 'i': 'iÌ³', 'j': 'jÌ³', 'k': 'kÌ³', 'l': 'lÌ³', 'm': 'mÌ³', 'n': 'nÌ³',
  //   'o': 'oÌ³', 'p': 'pÌ³', 'q': 'qÌ³', 'r': 'rÌ³', 's': 'sÌ³', 't': 'tÌ³', 'u': 'uÌ³',
  //   'v': 'vÌ³', 'w': 'wÌ³', 'x': 'xÌ³', 'y': 'yÌ³', 'z': 'zÌ³'
  // },
  smallCaps: {
    A: "A",
    B: "B",
    C: "C",
    D: "D",
    E: "E",
    F: "F",
    G: "G",
    H: "H",
    I: "I",
    J: "J",
    K: "K",
    L: "L",
    M: "M",
    N: "N",
    O: "O",
    P: "P",
    Q: "Q",
    R: "R",
    S: "S",
    T: "T",
    U: "U",
    V: "V",
    W: "W",
    X: "X",
    Y: "Y",
    Z: "Z",
    a: "á´€",
    b: "Ê™",
    c: "á´„",
    d: "á´…",
    e: "á´‡",
    f: "êœ°",
    g: "É¢",
    h: "Êœ",
    i: "Éª",
    j: "á´Š",
    k: "á´‹",
    l: "ÊŸ",
    m: "á´",
    n: "É´",
    o: "á´",
    p: "á´˜",
    q: "êž¯",
    r: "Ê€",
    s: "êœ±",
    t: "á´›",
    u: "á´œ",
    v: "á´ ",
    w: "á´¡",
    x: "x",
    y: "Ê",
    z: "á´¢",
  },
};

function convertText(text: string, style: string): string {
  const map = maps[style as keyof typeof maps] as { [key: string]: string };
  return text
    .split("")
    .map((char) => map[char] || char)
    .join("");
}

export default function Command() {
  const [text, setText] = useState("");
  const [style, setStyle] = useState("boldSerif");
  const [preview, setPreview] = useState("");

  useEffect(() => {
    setPreview(convertText(text, style));
  }, [text, style]);

  async function handleSubmit(values: Values) {
    const { text, style } = values;
    const convertedText = convertText(text, style);
    await Clipboard.copy(convertedText);
    showToast({ title: "Converted Text", message: "Text copied to clipboard" });
  }

  return (
    <Form
      actions={
        <ActionPanel>
          <Action.SubmitForm onSubmit={handleSubmit} />
        </ActionPanel>
      }>
      <Form.Description text="Convert text to bold, italic, serif, or sans-serif." />
      <Form.TextField id="text" title="Text" placeholder="Enter text" onChange={setText} />
      <Form.Dropdown id="style" title="Style" onChange={setStyle}>
        <Form.Dropdown.Item value="boldSansSerif" title="ð—¦ð—®ð—»ð˜€-ð—¦ð—²ð—¿ð—¶ð—³ ð—•ð—¼ð—¹ð—±" />
        <Form.Dropdown.Item value="italicSansSerif" title="ð˜šð˜¢ð˜¯ð˜´-ð˜šð˜¦ð˜³ð˜ªð˜§ ð˜ð˜µð˜¢ð˜­ð˜ªð˜¤" />
        <Form.Dropdown.Item value="boldSerif" title="ð’ðžð«ð¢ðŸ ðð¨ð¥ð" />
        <Form.Dropdown.Item value="italicSerif" title="ð‘†ð‘’ð‘Ÿð‘–ð‘“ ð¼ð‘¡ð‘Žð‘™ð‘–ð‘" />
        <Form.Dropdown.Item value="strikethrough" title="SÌ¶tÌ¶rÌ¶iÌ¶kÌ¶eÌ¶tÌ¶hÌ¶rÌ¶oÌ¶uÌ¶gÌ¶hÌ¶" />
        <Form.Dropdown.Item value="monospace" title="ð™¼ðš˜ðš—ðš˜ðšœðš™ðšŠðšŒðšŽ" />
        {/* <Form.Dropdown.Item value="underline" title="UÍŸnÍŸdÍŸeÍŸrÍŸlÍŸiÍŸnÍŸeÍŸ" />
<Form.Dropdown.Item value="doubleUnderline" title="DÌ³oÌ³uÌ³bÌ³lÌ³eÌ³ Ì³UÌ³nÌ³dÌ³eÌ³rÌ³lÌ³iÌ³nÌ³eÌ³" /> */}
        <Form.Dropdown.Item value="smallCaps" title="Sá´á´€ÊŸÊŸ Cá´€á´˜s" />
      </Form.Dropdown>
      <Form.Description text={`Preview:\n\n${preview}`} />
    </Form>
  );
}
