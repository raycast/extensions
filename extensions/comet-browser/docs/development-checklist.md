# 開發檢查清單

## 前置準備 ✅

### 環境設置
- [ ] Node.js 22.14+ 已安裝
- [ ] Raycast 最新版本已安裝
- [ ] Comet 瀏覽器已安裝
- [ ] VS Code 或其他編輯器已設置

### 專案初始化
- [ ] 執行 `npm install` 安裝基礎相依套件
- [ ] 安裝額外套件：
  ```bash
  npm install fuse.js use-debounce
  npm install --save-dev @types/fuse.js
  ```
- [ ] 設定 Git（如果需要）

## 研究階段 🔍

### Comet 瀏覽器研究
- [ ] 測試 Comet 是否支援 AppleScript
  ```bash
  osascript -e 'tell application "Comet" to name'
  ```
- [ ] 尋找 Comet 的資料檔案位置
- [ ] 研究 Comet 的 URL schemes
- [ ] 測試 System Events 自動化可行性

### Raycast API 研究
- [ ] 使用 Context7 研究 `useCachedPromise`
- [ ] 使用 Context7 研究 `runAppleScript`
- [ ] 研究 List 和 ActionPanel 元件
- [ ] 了解錯誤處理最佳實踐

### Arc 擴充套件分析
- [ ] 閱讀 `arc.ts` 的 AppleScript 整合
- [ ] 理解搜尋功能的實現
- [ ] 學習錯誤處理模式
- [ ] 分析 UI 元件結構

## 開發階段 💻

### 基礎架構建立
- [ ] 建立專案資料夾結構：
  ```
  ├── src/
  │   ├── commands/
  │   ├── lib/
  │   ├── components/
  │   └── hooks/
  ```
- [ ] 建立 `types.ts` 定義所有 TypeScript 類型
- [ ] 建立 `utils.ts` 實現工具函數
- [ ] 設定 ESLint 和 Prettier

### 瀏覽器整合實現
- [ ] 實現 `CometBrowser` 類別
- [ ] 測試 AppleScript 整合
- [ ] 實現備用方案（資料庫存取）
- [ ] 建立整合測試腳本

### 命令實現
- [ ] 實現 `search-tabs` 命令
  - [ ] 獲取所有開啟的分頁
  - [ ] 實現分頁切換功能
  - [ ] 加入 UI 元件
- [ ] 實現 `search-history` 命令
  - [ ] 存取歷史記錄
  - [ ] 實現搜尋過濾
  - [ ] 加入時間顯示
- [ ] 實現 `search-comet` 統一搜尋
  - [ ] 合併分頁和歷史資料
  - [ ] 實現優先級排序
  - [ ] 去重處理

### UI 元件開發
- [ ] 建立 `TabListItem` 元件
- [ ] 建立 `HistoryListItem` 元件
- [ ] 建立 `SearchResultItem` 元件
- [ ] 實現 ActionPanel 操作：
  - [ ] 開啟/切換分頁
  - [ ] 複製 URL
  - [ ] 複製標題
  - [ ] 複製 Markdown 連結

### 搜尋功能優化
- [ ] 整合 Fuse.js 模糊搜尋
- [ ] 實現搜尋去抖動
- [ ] 加入搜尋高亮顯示
- [ ] 優化搜尋效能

### 錯誤處理
- [ ] 實現優雅降級機制
- [ ] 加入使用者友好的錯誤提示
- [ ] 處理 Comet 未安裝的情況
- [ ] 處理權限問題

## 測試階段 🧪

### 功能測試
- [ ] 測試所有搜尋功能
- [ ] 測試分頁切換
- [ ] 測試歷史記錄開啟
- [ ] 測試鍵盤快捷鍵

### 效能測試
- [ ] 測試大量分頁時的效能
- [ ] 測試大量歷史記錄時的效能
- [ ] 測試搜尋響應時間
- [ ] 檢查記憶體使用

### 邊界情況測試
- [ ] Comet 未開啟時的行為
- [ ] 沒有分頁時的顯示
- [ ] 沒有歷史記錄時的顯示
- [ ] 網路斷線時的處理

### 相容性測試
- [ ] 不同 macOS 版本測試
- [ ] 不同 Raycast 版本測試
- [ ] 不同 Comet 版本測試（如果有）

## 優化階段 ⚡

### 效能優化
- [ ] 實現延遲載入
- [ ] 優化搜尋演算法
- [ ] 減少不必要的重新渲染
- [ ] 實現虛擬滾動（如果需要）

### 使用者體驗優化
- [ ] 加入載入動畫
- [ ] 優化搜尋結果排序
- [ ] 加入搜尋建議
- [ ] 改善錯誤訊息

### 程式碼優化
- [ ] 移除未使用的程式碼
- [ ] 優化 bundle 大小
- [ ] 改善 TypeScript 類型
- [ ] 加入程式碼註解

## 文件階段 📚

### 使用者文件
- [ ] 更新 README.md
- [ ] 撰寫安裝指南
- [ ] 建立使用教學
- [ ] 加入常見問題解答

### 開發者文件
- [ ] 更新技術文件
- [ ] 記錄 API 介面
- [ ] 撰寫貢獻指南
- [ ] 建立架構圖

## 發布準備 🚀

### 程式碼審查
- [ ] 執行 `npm run lint`
- [ ] 執行 `npm run build`
- [ ] 檢查 TypeScript 錯誤
- [ ] 確保沒有 console.log

### 資源準備
- [ ] 準備擴充套件圖標
- [ ] 準備螢幕截圖
- [ ] 撰寫更新日誌
- [ ] 準備展示影片（選用）

### Raycast Store 提交
- [ ] 填寫擴充套件描述
- [ ] 設定正確的分類
- [ ] 加入相關標籤
- [ ] 提交審核

## 發布後維護 🔧

### 監控和回饋
- [ ] 監控使用者回饋
- [ ] 追蹤錯誤報告
- [ ] 回應使用者問題
- [ ] 收集功能請求

### 持續改進
- [ ] 規劃下一版本功能
- [ ] 修復已知問題
- [ ] 效能持續優化
- [ ] 更新相依套件

## 重要提醒 ⚠️

1. **每完成一個階段，進行完整測試**
2. **定期提交程式碼（如果使用版本控制）**
3. **保持程式碼簡潔和可讀性**
4. **遵循 Raycast 的設計指南**
5. **注重使用者體驗**

## 時間估算 ⏱️

- 研究階段：1-2 天
- 基礎開發：3-4 天
- 測試優化：2-3 天
- 文件撰寫：1 天
- 總計：約 7-10 天

記住：品質比速度更重要。寧願多花時間做對，也不要急於發布有問題的版本。